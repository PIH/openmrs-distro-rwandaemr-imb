<htmlform 
	htmlformUuid="62810c49-b633-4e14-a911-7af84fff4422" 
	formUuid="edceede1-f1b6-4f95-8fd6-7f27200e5602" 
	formName="ANC Past Medical History" 
	formDescription="RHEA ANC1: Past Medical History" 
	formVersion="1.0" 
	formEncounterType="a703372d-28b7-4831-9817-ee385c8c47d8" 
	formPublished="${trueIfRwinkwavu}"
	formRetired="false" 
	xmlns="http://www.w3.org/1999/html"
>
    <macros>
    headerColor =#009d8e
    fontOnHeaderColor = white
    </macros>
    <style>
   .section {
      border: 1px solid $headerColor;
      padding: 2px;
      text-align: left;
      margin-bottom: 1em;
   }
   .sectionHeader {
      background-color: $headerColor;
      color: $fontOnHeaderColor;
      display: block;
      padding: 2px;
      font-weight: bold;
   }
   table.baseline-aligned td {
      vertical-align: baseline;
   }
   th.subheader {
   background-color: $headerColor;
   color:white
   }
</style>

    <translations defaultLocale="en">
        <code name="hd">
            <variant locale="en" value="Heart disease"/>
            <variant locale="fr" value="Maladie du coeur"/>
        </code>
        <code name="phone">
            <variant locale="en" value="Phone Number"/>
            <variant locale="fr" value="Numero de Telephone"/>
        </code>
        <code name="diabetes">
            <variant locale="en" value="Diabetes"/>
            <variant locale="fr" value="Diabéte"/>
        </code>
        <code name="asthma">
            <variant locale="en" value="Asthma"/>
            <variant locale="fr" value="Asthme"/>
        </code>
        <code name="tb">
            <variant locale="en" value="Tuberculosis"/>
            <variant locale="fr" value="Tuberculose"/>
        </code>
        <code name="hbp">
            <variant locale="en" value="Hypertension"/>
            <variant locale="fr" value="Hypertension artérielle"/>
        </code>
        <code name="Small Pelvis">
            <variant locale="en" value="Small Pelvis"/>
            <variant locale="fr" value="Petit bassin"/>
        </code>
        <code name="numberOfBirths">
            <variant locale="en" value="Number of Births"/>
            <variant locale="fr" value="Nombre des naissances"/>
        </code>
        <code name="Loss of Conciousness While Pregnant or When Giving Birth">
            <variant locale="en" value="Loss of Conciousness While Pregnant or When Giving Birth"/>
            <variant locale="fr" value="Perte de conscience pendant la grossesse ou lors de l'accouchement"/>
        </code>
        <code name="Postconvulsive Loss of Consciousness">
            <variant locale="en" value="Postconvulsive Loss of Consciousness"/>
            <variant locale="fr" value="perte de conscience post-convulsive"/>
        </code>
        <code name="Uterine Rupture">
            <variant locale="en" value="Uterine Rupture"/>
            <variant locale="fr" value="Rupture utérine"/>
        </code>
        <code name="Excessive Bleeding">
            <variant locale="en" value="Excessive Bleeding (>= 500ml) After Giving Birth"/>
            <variant locale="fr" value="Saigne beaucoup (>= 500 ml) peu de temps après l'accouchement"/>
        </code>
        <code name="Gave Birth to a Child Who Died the Same Day">
            <variant locale="en" value="Gave Birth to a Child Who Died the Same Day"/>
            <variant locale="fr" value="A accouché d'un enfant décédé le même jour"/>
        </code>
        <code name="Successive Abortions">
            <variant locale="en" value="Successive Abortions"/>
            <variant locale="fr" value="Avortements successifs"/>
        </code>
        <code name="risk">
            <variant locale="en" value="Height is less than 150 cm"/>
            <variant locale="fr" value="hauteur inférieure à 150 cm"/>
        </code>
        <code name="First Pregnancy and is Above 30">
            <variant locale="en" value="First Pregnancy and is Above 30"/>
            <variant locale="fr" value="Première grossesse et la femme a plus de 30 ans"/>
        </code>
        <code name="Is Under 18 or Above 35">
            <variant locale="en" value="Is Under 18 or Above 35"/>
            <variant locale="fr" value="Femme de moins de 18 ans ou de plus de 35 ans"/>
        </code>
        <code name="Yes">
            <variant locale="en" value="Yes"/>
            <variant locale="fr" value="Oui"/>
        </code>
        <code name="No">
            <variant locale="en" value="No"/>
            <variant locale="fr" value="Non"/>
        </code>
        <code name="height">
            <variant locale="en" value="Height"/>
            <variant locale="fr" value="Taille"/>
        </code>
        <code name="pregnancies">
            <variant locale="en" value="Number Of Pregnancies"/>
            <variant locale="fr" value="Nombre de grossesses"/>
        </code>
        <code name="births">
            <variant locale="en" value="Number Of Term Births:"/>
            <variant locale="fr" value="Nombre de naissances à terme"/>
        </code>
        <code name="sbirths">
            <variant locale="en" value="Number Of Still Births"/>
            <variant locale="fr" value="Nombre d'enfants mort-nés"/>
        </code>
        <code name="children">
            <variant locale="en" value="Number Of Children Alive"/>
            <variant locale="fr" value="Nombre d'enfants"/>
        </code>
        <code name="csection">
            <variant locale="en" value="Number Of C-Sections"/>
            <variant locale="fr" value="Nombre de césariennes"/>
        </code>
        <code name="abortion">
            <variant locale="en" value="Number Of Abortions/Miscarriages"/>
            <variant locale="fr" value="Nombre d'avortements / fausses couches"/>
        </code>
        <code name="dead_children">
            <variant locale="en" value="Number Of Children Who died After Birth:"/>
            <variant locale="fr" value="Nombre d'enfants décédés après naissance"/>
        </code>
        <code name="lbdob">
            <variant locale="en" value="Date of Birth for last born"/>
            <variant locale="fr" value="Date de naissance du dernier né"/>
        </code>
        <code name="lbstatus">
            <variant locale="en" value="Last born status"/>
            <variant locale="fr" value="Status du dernier né"/>
        </code>
        <code name="Alive">
            <variant locale="en" value="Alive"/>
            <variant locale="fr" value="Né vivant"/>
        </code>
        <code name="Dead">
            <variant locale="en" value="Dead"/>
            <variant locale="fr" value="Mort-né"/>
        </code>
        <code name="Unknown">
            <variant locale="en" value="Unknown"/>
            <variant locale="fr" value="Inconnu"/>
        </code>
        <code name="lmp">
            <variant locale="en" value="First day of last menstral period "/>
            <variant locale="fr" value="Date des dernières règles "/>
        </code>
        <code name="tested">
            <variant locale="en" value="Has she been tested for HIV/AIDS?"/>
            <variant locale="fr" value="Est-ce que le patient a subi un test de dépistage du VIH?"/>
        </code>
        <code name="due_date">
            <variant locale="en" value="Approximate date of delivery"/>
            <variant locale="fr" value="Date probable d'accouchement"/>
        </code>
        <code name="partner">
            <variant locale="en" value="Did she arrive to the clinic with her partner?"/>
            <variant locale="fr" value="Est-ce que le patient est venu avec son partenaire?"/>
        </code>
        <code name="placenta">
            <variant locale="en" value="Incomplete Placenta"/>
            <variant locale="fr" value="Placenta incomplet"/>
        </code>
        <code name="hypertension">
            <variant locale="en" value="Hypertension"/>
            <variant locale="fr" value="Hypertension"/>
        </code>
        <code name="5preg">
            <variant locale="en" value="More Than 5 pregnancies"/>
            <variant locale="fr" value="Plus de 5 grossesses"/>
        </code>
        <code name="fibroids">
            <variant locale="en" value="Uterine Fibroids"/>
            <variant locale="fr" value="Les fibromes utérins"/>
        </code>
        <code name="encounterDetails">
            <variant locale="en" value="1. Encounter Details"/>
            <variant locale="fr" value="1. Rencontrer les détails"/>
        </code>
        <code name="obInformation">
            <variant locale="en" value="2. OB Information"/>
            <variant locale="fr" value="2. Information obstétrique"/>
        </code>
        <code name="obstetricalRiskFactors">
            <variant locale="en" value="Obstetrical risk factors"/>
            <variant locale="fr" value="Facteurs de risque obstétricaux"/>
        </code>
        <code name="medicalConditions">
            <variant locale="en" value="Medical Conditions"/>
            <variant locale="fr" value="Conditions médicales"/>
        </code>
        <code name="medicalDates">
            <variant locale="en" value="Medical Dates"/>
            <variant locale="fr" value="Dates médicaux"/>
        </code>
    </translations>
    <script type="text/javascript">

var $ = jQuery.noConflict();
$(document).ready(function() {
	var group1 = $j("#ageOne");
	var group2 = $j("#ageTwo");
	var group3 = $j("#parity")


	var patAge = $("#age").text();
	var testAge = 17;
	var testAge1 = 38;

	if(patAge &lt; 18 ||patAge &gt; 35)
	{
		group1.find("input[type$='checkbox']").attr("checked",true);
	}
	$("#height").change(function() {
		var txt = $("#height input").val();
		var group = $j("#heightOK");
		//alert(txt);

		if(txt == null || txt == ''){
			group.find("input[type$='checkbox']").attr("checked",false);
		}
		else if(txt &gt; 149) {
			group.find("input[type$='checkbox']").attr("checked",false);
		}

		else {

			group.find("input[type$='checkbox']").attr("checked",true);
		}

	});

	$("#nop").change(function() {
		var txt = $("#nop input").val();
		if(txt == 1 &amp;&amp; patAge &gt; 30 ){

			group2.find("input[type$='checkbox']").attr("checked",true);
		}
		else{
			group2.find("input[type$='checkbox']").attr("checked",false);
		}

		if(txt == null || txt == ''){
			group2.find("input[type$='checkbox']").attr("checked",false);
			group3.find("input[type$='checkbox']").attr("checked",false);
		}
		else if(txt &gt; 5){
			group3.find("input[type$='checkbox']").attr("checked",true);
		}
		else{
			group3.find("input[type$='checkbox']").attr("checked",false);
		}
	});
});

</script> <script type="text/javascript">
$j(function() {
	getField('lmp.value').change(function() {
		var mp = getValue('lmp.value');
        //alert(mp);
		var d = new Date(mp);

		d.setFullYear (d.getFullYear() + 1);
		d.setMonth(d.getMonth() - 3);

		d.setDate(d.getDate() + 7);

		var curr_date = d.getDate();

		var curr_month = d.getMonth();
		curr_month++;

		var curr_year = d.getFullYear();

		var duedate = curr_year + "-" + curr_month + "-" + curr_date;


		setValue('dd.value',duedate);


	});

});
</script>
    <script type="text/javascript">
var $ = jQuery.noConflict();
$j(document).ready(function(){
   // $("#location select").attr("disabled",true);


});
</script>
    <!--
    <macros>
        paperFormId = (Fill this in)
        headerColor =#009d8e
        fontOnHeaderColor = white
    </macros>
     -->

    <style>
table.risks td {
	font-size: 0.9em;
}

.section {
	border: 1px solid$headerColor;
	padding: 2px;
	text-align: left;
	margin-bottom: 1em;
}

.sectionHeader {
	background-color: $headerColor;
	color: $fontOnHeaderColor;
	display: block;
	padding: 2px;
	font-weight: bold;
}

table.baseline-aligned td {
	vertical-align: center;
}
</style>

    <!--<span style="float: right">Paper Form ID: $paperFormId</span>-->
    <h2>ANC Past Medical History (v1.0)</h2>
    <includeIf velocityTest="$patient.gender == 'F' ">
        <section headerCode="encounterDetails">
            <table class="baseline-aligned">
                <tr>
                    <td>Date:</td>
                    <td><encounterDate default="today" /></td>
                </tr>
                <tr>
                    <td>Location:</td>
                    <td><encounterLocation id="location" /></td>
                </tr>
                <tr>
                    <td>Provider:</td>
                    <td><encounterProvider id="provider" /></td>
                </tr>
            </table>
        </section>


        <section >
            <section headerCode="obInformation">
                <table class="baseline-aligned">
                    <tr>

                        <td><obs conceptId="3cda3d7e-26fe-102b-80cb-0017a47871b2"  labelCode="phone"/></td>
                    </tr>
                    <tr>

                        <td><obs conceptId="3ce93cf2-26fe-102b-80cb-0017a47871b2" id="height" labelCode="height"/>(cm)</td>
                    </tr>

                    <tr>

                        <td><obs conceptId="3cee82de-26fe-102b-80cb-0017a47871b2" id="nop" labelCode="pregnancies"/></td>
                    </tr>
                    <tr style="display: none;">
                        <td><span id="age"><lookup expression="patient.age" /></span></td>
                    </tr>
                    <tr>

                        <td><obs conceptId="3cd6dda0-26fe-102b-80cb-0017a47871b2" labelCode="numberOfBirths"/></td>
                    </tr>

                    <tr>

                        <td><obs conceptId="9fee2f9e-7e6f-4947-a2cb-6f2e6cf8c25a" labelCode="births"/></td>
                    </tr>
                    <tr>

                        <td><obs conceptId="6df78bbb-24a6-4a1d-af5a-3717ecbeb260" labelCode="abortion"/></td>
                    </tr>




                    <tr>

                        <td><obs conceptId="c7e538a1-67d0-441e-aa6a-63d11dd77a89" labelCode="dead_children"/></td>
                    </tr>
                    <tr>

                        <td><obs conceptId="3ce64114-26fe-102b-80cb-0017a47871b2" labelCode="children"/></td>
                    </tr>



                    <tr>

                        <td><obs conceptId="789dabea-e83e-478a-871b-215559288746" labelCode="lbdob"/></td>
                    </tr>
                    <tr>

                        <td><obs conceptId="65f25261-fb7b-46aa-a22e-a1a1595d560a" answerConceptIds="b056404d-333c-4231-989e-a3abe01e5cd0,9665c868-c00a-425a-a350-235f2e4b37c5,3cd6fac4-26fe-102b-80cb-0017a47871b2"
                                 answerCodes="Alive,Dead,Unknown" style="radio" labelCode="lbstatus"/></td>
                    </tr>
                    <tr>

                        <td><obs conceptId="9aee29d7-8d05-4195-bca6-1eaa606fc79d" labelCode="csection"/></td>
                    </tr>
                    <tr>

                        <td><obs conceptId="8d843794-11f1-42f9-a6cb-fc6c1e8da5eb" labelCode="sbirths"/></td>
                    </tr>



                </table>
            </section>
            <section headerCode="obstetricalRiskFactors">
                <table class="baseline-aligned risks">
                    <tr>
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="baac7b35-1a65-4de2-a5c6-bf511990a7f9"
                                 answerCodes="Small Pelvis" style="checkbox" /></td>
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="b0846fc5-7e46-45c9-93bd-e771513f43d3"
                                 answerCodes="Loss of Conciousness While Pregnant or When Giving Birth"
                                 style="checkbox" /></td>
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="ef9e7460-53ae-4fe0-8d62-88162ca7e909"
                                 answerCodes="Postconvulsive Loss of Consciousness"
                                 style="checkbox" /></td>
                    </tr>

                    <tr>
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="fb6507ea-08e0-4734-ac24-99a83740b425"
                                 answerCodes="Uterine Rupture" style="checkbox" /></td>
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="d1cf0f7b-6857-4b46-90a1-2c38b65064c0"
                                 answerCodes="Excessive Bleeding"
                                 style="checkbox" /></td>
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="af8769c9-4d95-4e6f-a664-65af6a28d533"
                                 answerCodes="Gave Birth to a Child Who Died the Same Day"
                                 style="checkbox" /></td>
                    </tr>
                    <tr>
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="7de34033-430c-4a7c-8c92-36d52d373f65"
                                 answerCodes="Successive Abortions" style="checkbox" /></td>
                        <!--<td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" id="heightOK" answerConceptId="d131b274-35b1-4abe-8c1e-6d95996a5ef1" style="checkbox" answerCodes="hrisk"/>
                        </td>-->
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="d131b274-35b1-4abe-8c1e-6d95996a5ef1" id="heightOK" answerCodes="risk"/></td>
                        <td><obs id="ageTwo" conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb"
                                 answerConceptId="d535d356-a8e4-41a3-a564-a8c9448ba79a"
                                 answerCodes="First Pregnancy and is Above 30" style="checkbox" /></td>
                    </tr>
                    <tr>
                        <td><obs id="ageOne" conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb"
                                 answerConceptId="d043d649-727c-4000-af85-374ec3e19d9f" answerCodes="Is Under 18 or Above 35"
                                 style="checkbox" /></td>
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="b4f2b2d2-093d-46dc-9418-c37b7fe8a213" id="parity" answerCode="5preg"/></td>
                        <!--<td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb" answerConceptId="b4f2b2d2-093d-46dc-9418-c37b7fe8a213" answerCodes="risk" id="parity" style="checkbox" /></td>-->
                        <td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb"
                                 answerConceptId="87441b5b-f726-4ea8-a661-07fb0c2b7038" answerCode="placenta"
                                 style="checkbox" /></td>
                    </tr>

                </table>
            </section>
            <section headerCode="medicalConditions">
                <table class="baseline-aligned">
                    <tr>
                        <td><obs conceptId="e5d2db12-9e55-446c-a030-49974453c058" answerConceptId="f40bf9bb-fcaa-4f90-8199-197bc6cb2b03"
                                 style="checkbox" answerCode="hd"/></td>
                        <td><obs conceptId="e5d2db12-9e55-446c-a030-49974453c058" answerConceptId="37c267c6-fa16-46e6-a712-d92627eb8995"
                                 style="checkbox" /></td>
                        <td><obs conceptId="e5d2db12-9e55-446c-a030-49974453c058" answerConceptId="9c4a4929-806e-443f-a96c-26f3cee9480a"
                                 style="checkbox" answerCode="fibroids"/></td>
                    </tr>

                    <tr>
                        <td><obs conceptId="e5d2db12-9e55-446c-a030-49974453c058" answerConceptId="edf4ecc4-44f6-457a-b561-179f4426b16a"
                                 style="checkbox" answerCode="diabetes"/></td>
                        <td><obs conceptId="e5d2db12-9e55-446c-a030-49974453c058" answerConceptId="3ccc4bf6-26fe-102b-80cb-0017a47871b2"
                                 style="checkbox" answerCode="asthma"/></td>
                        <td><obs conceptId="e5d2db12-9e55-446c-a030-49974453c058" answerConceptId="3ccca7cc-26fe-102b-80cb-0017a47871b2"
                                 style="checkbox" answerCode="tb"/></td>
                    </tr>
                    <tr><td><obs conceptId="30b9957e-9134-4cf7-9498-5862c80c93fb"
                                 answerConceptId="3cd50188-26fe-102b-80cb-0017a47871b2" answerCode="hbp"
                                 style="checkbox"/></td>
                        <td><obs conceptId="3cdc5ab4-26fe-102b-80cb-0017a47871b2" style="checkbox" labelCode="tested"/></td>
                    </tr>

                    <tr>


                    </tr>

                </table>
            </section>
            <section headerCode="medicalDates">
                <table class="baseline-aligned">
                    <tr>

                        <td><obs conceptId="3cd653c6-26fe-102b-80cb-0017a47871b2" id="lmp" labelCode="lmp"/></td>
                    </tr>
                    <tr>

                        <td><obs conceptId="ea6a744d-846c-4e29-bc89-30404853c4f9" id="dd" allowFutureDates="true" labelCode="due_date"/></td>
                    </tr>



                </table>
            </section>
        </section>
        <submit />
    </includeIf>
    <includeIf velocityTest="$patient.gender == 'M' ">
        <section headerLabel="Invalid Patient Message">

            <table border="0" width="100%">

                <tr><td>This Form Is Only Filled For Female Patients:</td>

                </tr>

            </table>

        </section>
    </includeIf>

</htmlform>

